---
import ProjectLayout from "../../layouts/ProjectLayout.astro";
import CaseSection from "../../components/projects/CaseSection.astro";
import FigmaEmbed from "../../components/projects/FigmaEmbed.astro";
import { projects } from "../../data/projectsAboutData";

type Project = (typeof projects)[number];

export async function getStaticPaths() {
  return projects.map((project) => ({
    params: { slug: project.slug },
    props: { project },
  }));
}

const { project } = Astro.props as { project: Project };
---

<ProjectLayout>

  <!-- =========================
       HERO
  ========================== -->
  <section class="pb-20 border-b border-white/10">
    <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">
      {project.titulo}
    </h1>

    <p class="mt-6 max-w-3xl text-lg text-gray-300">
      {project.resumen}
    </p>

    <div class="mt-8 flex flex-wrap gap-4">
      {project.demo && (
        <a
          href={project.demo}
          target="_blank"
          rel="noopener"
          class="rounded-md bg-primary px-6 py-3 font-semibold text-gray-900"
        >
          View Live Site
        </a>
      )}

      <a
        href="/projects"
        class="rounded-md border border-white/20 px-6 py-3 font-semibold
               hover:bg-white hover:text-gray-900 transition"
      >
        Back to Projects
      </a>
    </div>
  </section>

  <!-- =========================
       CONTEXT
  ========================== -->
  {project.context && (
    <CaseSection title="Context & Role" eyebrow="Overview">
      {project.context.map((paragraph) => (
        <p>{paragraph}</p>
      ))}
    </CaseSection>
  )}

  <!-- =========================
       CHALLENGE
  ========================== -->
  {project.challenge && (
    <CaseSection title="The Challenge" eyebrow="Problem">
      <ul class="list-disc pl-6 space-y-2">
        {project.challenge.map((item) => (
          <li>{item}</li>
        ))}
      </ul>
    </CaseSection>
  )}

  <!-- =========================
       RESEARCH (LONDRI)
  ========================== -->
  {project.research && (
    <CaseSection title="Research & Discovery" eyebrow="UX Research">
      <ul class="list-disc pl-6 space-y-2">
        {project.research.map((item) => (
          <li>{item}</li>
        ))}
      </ul>
    </CaseSection>
  )}

  <!-- =========================
       UX PROCESS (LONDRI)
  ========================== -->
  {project.uxProcess && (
    <CaseSection title="UX Process" eyebrow="Methodology">
      <ul class="list-disc pl-6 space-y-2">
        {project.uxProcess.map((item) => (
          <li>{item}</li>
        ))}
      </ul>
    </CaseSection>
  )}

  <!-- =========================
       BRANDING
  ========================== -->
  {project.figmaBranding && (
    <CaseSection title="Branding & Visual Foundations" eyebrow="UX / UI">
      <p>
        Before designing screens, I established a basic but intentional visual
        foundation to ensure consistency across the product.
      </p>

      <p>
        This included defining brand colors, typography hierarchy, and logo usage,
        aligning the visual identity with the brandâ€™s positioning.
      </p>

      <FigmaEmbed
        figmaUrl={project.figmaBranding}
        title="Branding & Visual System"
      />
    </CaseSection>
  )}

  <!-- =========================
       WIREFRAMES
  ========================== -->
  {project.figmaWireframes && (
    <CaseSection title="UX Structure & Wireframes" eyebrow="UX">
      <p>
        Wireframes were used to validate hierarchy, user flows, and layout
        decisions before moving into high-fidelity UI design.
      </p>

      <FigmaEmbed
        figmaUrl={project.figmaWireframes}
        title="UX Wireframes & Structure"
      />
    </CaseSection>
  )}

  <!-- =========================
       FIGMA STAGES (LONDRI)
  ========================== -->
  {project.figmaStages && (
    <CaseSection title="Design Evolution" eyebrow="Figma">
      {project.figmaStages.map((stage) => (
        <div class="mb-12">
          <h3 class="text-xl font-semibold mb-2">{stage.label}</h3>
          <p class="text-gray-400 mb-4">{stage.description}</p>

          <FigmaEmbed
            figmaUrl={stage.url}
            title={stage.label}
          />
        </div>
      ))}
    </CaseSection>
  )}

<!-- =========================
     DEVELOPMENT
========================== -->
{project.development && (
  <CaseSection title="Development" eyebrow="Implementation">
    <ul class="list-disc pl-6 space-y-2">
      {project.development.map((item: string) => (
        <li>{item}</li>
      ))}
    </ul>
  </CaseSection>
)}
  <!-- =========================
       FINAL PROTOTYPE (LONDRI)
  ========================== -->
  {project.prototype && (
    <CaseSection title="Final Interactive Prototype" eyebrow="Prototype">
      <FigmaEmbed
        figmaUrl={project.prototype.url}
        title={project.prototype.label}
      />
    </CaseSection>
  )}

  <!-- =========================
       OUTCOME
  ========================== -->
  {project.outcome && (
    <CaseSection title="Outcome & Learnings" eyebrow="Results">
      {project.outcome.map((paragraph) => (
        <p>{paragraph}</p>
      ))}
    </CaseSection>
  )}

</ProjectLayout>
